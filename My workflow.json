{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -912,
        -48
      ],
      "id": "70d1c967-6e19-4b21-aaeb-2ceefb004a26",
      "name": "When chat message received",
      "webhookId": "0d209f77-c86b-4525-a001-2ae3db87367b"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a smart, advanced web agent connected to tools that let you control a remote web browser. Your primary goal is to fulfill the human's request accurately and efficiently by interacting with web pages using your tools.\n\nTools\nStart Browser\nAlways begin with this tool.\n\nIt returns a sessionId and windowId which are required for all other tools.\n\nYou must include these IDs in every subsequent tool call.\n\nLoad URL\nLoads a website in the browser window.\n\nPass the sessionId, windowId, and the desired URL (e.g., https://www.bestbuy.com).\n\nQuery\nYou have access to the browser screen but you can call this tool to get knowledge and hints of the current browser window.\n\nUse this tool to retrieve information that the human asked for.\n\nClick\nUse this tool to click on elements like buttons.\n\nType\nUse this to type text into a visible input field. This tool clicks Enter after typing the text so don't send \"[ENTER]\" commands.\n\nEnd Session\nWhen the task is fully complete, use this tool to properly close the browser session.\n\nYou must ALWAYS USE THIS TOOL BEFORE RESPONDING TO THE HUMAN\n\nThink\nUse when you need to reflect on what you've done and think about what steps to take next"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -592,
        -48
      ],
      "id": "611d2a74-8534-4788-8836-f5c224c65d80",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "qwen/qwen3-32b",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [
        -656,
        208
      ],
      "id": "660168e7-0d1c-4e94-89ab-88dd6015c3d1",
      "name": "qwen",
      "credentials": {
        "groqApi": {
          "id": "YqBMau074bP1XurX",
          "name": "Groq account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -528,
        208
      ],
      "id": "d4f45128-566c-4dc1-b902-1213556599a9",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "description": "Call this tool to create a session or widnow",
        "workflowId": {
          "__rl": true,
          "value": "eK88ubtVpzevMoiY",
          "mode": "list",
          "cachedResultName": "create browser"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('url', `Url of the website we are visitng`, 'string') }}",
            "profile_name": "huzaifa"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "url",
              "displayName": "url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "profile_name",
              "displayName": "profile_name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        272,
        176
      ],
      "id": "26ea47f8-9b3c-4c69-b2d9-060513a018a5",
      "name": "start browser"
    },
    {
      "parameters": {
        "resource": "interaction",
        "operation": "type",
        "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `The \"sessionId\" returned by start browser tool`, 'string') }}",
        "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', `The \"windowId\" returned by start browser tool`, 'string') }}",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}",
        "pressEnterKey": true,
        "elementDescription": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `search bars usually contains placeholders that says \"search\"`, 'string') }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.airtopTool",
      "typeVersion": 1,
      "position": [
        400,
        176
      ],
      "id": "7072627c-8acd-4491-9fbe-d460ed4d8ed9",
      "name": "Typing tool",
      "credentials": {
        "airtopApi": {
          "id": "eQ0mJtDzVQemU7CM",
          "name": "Airtop account 2"
        }
      }
    },
    {
      "parameters": {
        "resource": "interaction",
        "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `The \"sessionId\" returned by start browser tool`, 'string') }}",
        "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', `The \"windowId\" returned by start browser tool`, 'string') }}",
        "elementDescription": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', ``, 'string') }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.airtopTool",
      "typeVersion": 1,
      "position": [
        528,
        176
      ],
      "id": "e0300e9b-44bc-4fe4-9729-a2ce813587db",
      "name": "clicking tool",
      "credentials": {
        "airtopApi": {
          "id": "eQ0mJtDzVQemU7CM",
          "name": "Airtop account 2"
        }
      }
    },
    {
      "parameters": {
        "resource": "extraction",
        "operation": "query",
        "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `The \"sessionId\" returned by start browser tool`, 'string') }}",
        "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', `The \"windowId\" returned by start browser tool`, 'string') }}",
        "prompt": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', ``, 'string') }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.airtopTool",
      "typeVersion": 1,
      "position": [
        672,
        160
      ],
      "id": "45037898-bce2-4c78-af9c-4a18f02a0ac7",
      "name": "query page tool",
      "credentials": {
        "airtopApi": {
          "id": "eQ0mJtDzVQemU7CM",
          "name": "Airtop account 2"
        }
      }
    },
    {
      "parameters": {
        "resource": "window",
        "operation": "load",
        "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `The \"sessionId\" returned by start browser tool`, 'string') }}",
        "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', `The \"windowId\" returned by start browser tool`, 'string') }}",
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.airtopTool",
      "typeVersion": 1,
      "position": [
        816,
        160
      ],
      "id": "013774f7-6221-4438-b16b-af249f85ef34",
      "name": "load url tool",
      "credentials": {
        "airtopApi": {
          "id": "eQ0mJtDzVQemU7CM",
          "name": "Airtop account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "terminate",
        "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `The \"sessionId\" returned by start browser tool`, 'string') }}"
      },
      "type": "n8n-nodes-base.airtopTool",
      "typeVersion": 1,
      "position": [
        976,
        160
      ],
      "id": "ea719f70-4ccc-4aef-aedd-89f7036973fc",
      "name": "terminate tool",
      "credentials": {
        "airtopApi": {
          "id": "eQ0mJtDzVQemU7CM",
          "name": "Airtop account 2"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        144,
        192
      ],
      "id": "b07bf38b-e64b-4c7d-bd34-f7f91fa69d3d",
      "name": "Think"
    },
    {
      "parameters": {
        "content": "# Browser Agent",
        "height": 496,
        "width": 864,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1024,
        -128
      ],
      "typeVersion": 1,
      "id": "42bfe4b4-67a0-49b8-8c19-2a7691ecea3e",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "endpointUrl": "http://localhost:5678/mcp/66c63475-4cd6-44d9-b0e4-12c4c7bec14c",
        "serverTransport": "httpStreamable",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.1,
      "position": [
        -400,
        224
      ],
      "id": "819042bf-07ce-4137-b324-23f36f20c685",
      "name": "MCP Client"
    },
    {
      "parameters": {
        "path": "66c63475-4cd6-44d9-b0e4-12c4c7bec14c"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        416,
        -80
      ],
      "id": "8c456c24-6b4f-440b-9413-8608ae14d384",
      "name": "MCP Server Trigger",
      "webhookId": "66c63475-4cd6-44d9-b0e4-12c4c7bec14c"
    },
    {
      "parameters": {
        "content": "## MCP SERVER",
        "height": 464,
        "width": 1168
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        16,
        -128
      ],
      "typeVersion": 1,
      "id": "f909e2e9-e585-418b-84df-41778f06d96f",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "qwen": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "start browser": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Typing tool": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "clicking tool": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "query page tool": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "load url tool": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "terminate tool": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "dee91d8e-bc9c-4cdc-9f7f-7f01faf383d7",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "9d85ac48abd23cd956b1a6553af69d0eeec3845fbdce08f57dab8559a0587cdf"
  },
  "id": "yg2UxA0P2MfroBnu",
  "tags": []
}